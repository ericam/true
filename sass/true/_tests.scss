// Tests
// =====

$default-test-output: terminal css    !default;

$test-results: null;

// Establish a new test
@mixin test(
  $name,
  $output: $default-test-output
) {
  // Setup
  $test-results: () !global;

  // Content
  $old-result-context: $test-result-context;
  $test-result-context: test !global;

  @content;

  $test-result-context: $old-result-context !global;

  // Results
  @include report-test($name, $test-results, $test-result-context, $output);

  // Teardown
  $test-results: null !global;
}
